/*! jQuery dynamicNumber - v0.1.0 - 2014-09-06
* https://github.com/amazingSurge/jquery-dynamicNumber
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b,c){"use strict";function d(){return c.performance.now?c.performance.now():Date.now()}Date.now||(Date.now=function(){return(new Date).getTime()});for(var e=["webkit","moz"],f=0;f<e.length&&!c.requestAnimationFrame;++f){var g=e[f];c.requestAnimationFrame=c[g+"RequestAnimationFrame"],c.cancelAnimationFrame=c[g+"CancelAnimationFrame"]||c[g+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(c.navigator.userAgent)||!c.requestAnimationFrame||!c.cancelAnimationFrame){var h=0;c.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(h+16,b);return setTimeout(function(){a(h=c)},c-b)},c.cancelAnimationFrame=clearTimeout}var i="dynamicNumber",j=a[i]=function(b,c){this.element=b,this.$element=a(b),this.options=a.extend(!0,{},j.defaults,c,this.$element.data()),this.options.step=parseFloat(this.options.step,10),this.first=this.$element.attr("aria-valuenow"),this.first=this.first?this.first:this.options.from,this.first=parseFloat(this.first,10),this.now=this.first,this.to=parseFloat(this.options.to,10),this._requestId=null,this.initialized=!1,this._trigger("init"),this.init()};j.defaults={from:0,to:100,duration:1e3,decimals:0,format:function(a,b){return a.toFixed(b.decimals)},percentage:{decimals:0},currency:{indicator:"$",size:3,decimals:"2",separator:",",decimalsPoint:"."},group:{size:3,decimals:"2",separator:",",decimalsPoint:"."}},j.formaters={percentage:function(a,b){return a.toFixed(b.decimals)+"%"},currency:function(a,b){return b.indicator+j.formaters.group(a,b)},group:function(a,b){var c="",d=b.decimals;if(d){var e=Math.pow(10,d);c=""+Math.round(a*e)/e}else c=""+Math.round(a);if(c=c.split("."),c[0].length>3){var f=new RegExp("\\B(?=(?:\\d{"+b.size+"})+(?!\\d))","g");c[0]=c[0].replace(f,b.separator)}return(c[1]||"").length<d&&(c[1]=c[1]||"",c[1]+=new Array(d-c[1].length+1).join("0")),c.join(b.decimalsPoint)}},j.prototype={constructor:j,init:function(){this.initialized=!0,this._trigger("ready")},_trigger:function(a){var b=Array.prototype.slice.call(arguments,1),c=[this].concat(b);this.$element.trigger(i+"::"+a,c),a=a.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)});var d="on"+a;"function"==typeof this.options[d]&&this.options[d].apply(this,b)},go:function(a){var b=this;this._clear(),a="undefined"==typeof a?this.to:parseFloat(a,10);var e=b.now,f=d(),g=function(d){var h=(d-f)/b.options.duration,i=Math.abs(h*(e-a));a>e?(i=e+i,i>a&&(i=a)):(i=e-i,a>i&&(i=a)),b._update(i),i===a?(c.cancelAnimationFrame(b._requestId),b._requestId=null,b.now===b.to&&b._trigger("finish")):b._requestId=c.requestAnimationFrame(g)};b._requestId=c.requestAnimationFrame(g)},_update:function(a){this.now=a,this.$element.attr("aria-valuenow",this.now);var b=a;isNaN(a)||("function"==typeof this.options.format?b=this.options.format.apply(this,[a,this.options]):"string"==typeof this.options.format&&("undefined"!=typeof j.formaters[this.options.format]?b=j.formaters[this.options.format].apply(this,[a,this.options[this.options.format]]):"function"==typeof c[this.options.format]&&(b=c[this.options.format].apply(this,[a,this.options])))),this.$element.html(b),this._trigger("update",a)},get:function(){return this.now},start:function(){this._clear(),this._trigger("start"),this.go(this.to)},_clear:function(){this._requestId&&(c.cancelAnimationFrame(this._requestId),this._requestId=null)},reset:function(){this._clear(),this._update(this.first),this._trigger("reset")},stop:function(){this._clear(),this._trigger("stop")},finish:function(){this._clear(),this._update(this.to),this._trigger("finish")},destory:function(){this.$element.data(i,null),this._trigger("destory")}},a.fn[i]=function(b){if("string"!=typeof b)return this.each(function(){a.data(this,i)||a.data(this,i,new j(this,b))});var c=b,d=Array.prototype.slice.call(arguments,1);if(/^\_/.test(c))return!1;if(!/^(get)$/.test(c))return this.each(function(){var b=a.data(this,i);b&&"function"==typeof b[c]&&b[c].apply(b,d)});var e=this.first().data(i);return e&&"function"==typeof e[c]?e[c].apply(e,d):void 0}}(jQuery,document,window);